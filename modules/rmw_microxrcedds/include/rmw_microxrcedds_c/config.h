#ifndef RMW_MICROXRCEDDS_CONFIG_H
#define RMW_MICROXRCEDDS_CONFIG_H

#include <uxr/client/config.h>

#ifdef CONFIG_ROS2_RMW_MICROXRCEDDS_TRANSPORT_UDP
#define RMW_UXRCE_TRANSPORT_UDP
#endif
#ifdef CONFIG_ROS2_RMW_MICROXRCEDDS_TRANSPORT_TCP
#define RMW_UXRCE_TRANSPORT_TCP
#endif
#ifdef CONFIG_ROS2_RMW_MICROXRCEDDS_TRANSPORT_SERIAL
#define RMW_UXRCE_TRANSPORT_SERIAL
#endif
#ifdef CONFIG_ROS2_RMW_MICROXRCEDDS_TRANSPORT_CUSTOM
#define RMW_UXRCE_TRANSPORT_CUSTOM
#endif
#ifdef CONFIG_ROS2_RMW_MICROXRCEDDS_IPV4
#define RMW_UXRCE_TRANSPORT_IPV4
#endif
#ifdef CONFIG_ROS2_RMW_MICROXRCEDDS_IPV6
#define RMW_UXRCE_TRANSPORT_IPV6
#endif
#ifdef ROS2_RMW_MICROXRCEDDS_CREATION_MODE_REFS
#define RMW_UXRCE_USE_REFS
#endif
#ifdef ROS2_RMW_MICROXRCEDDS_ALLOW_DYNAMIC_ALLOCATIONS
#define RMW_UXRCE_ALLOW_DYNAMIC_ALLOCATIONS
#endif
/* #undef RMW_UXRCE_GRAPH */
/* #undef RMW_UROS_ERROR_HANDLING */

#ifdef RMW_UXRCE_TRANSPORT_UDP
    #define RMW_UXRCE_MAX_TRANSPORT_MTU UXR_CONFIG_UDP_TRANSPORT_MTU
    #define RMW_UXRCE_DEFAULT_IP ""
    #define RMW_UXRCE_DEFAULT_PORT ""
#elif defined(RMW_UXRCE_TRANSPORT_TCP)
    #define RMW_UXRCE_MAX_TRANSPORT_MTU UXR_CONFIG_TCP_TRANSPORT_MTU
    #define RMW_UXRCE_DEFAULT_IP ""
    #define RMW_UXRCE_DEFAULT_PORT ""
#elif defined(RMW_UXRCE_TRANSPORT_SERIAL)
    #define RMW_UXRCE_MAX_TRANSPORT_MTU UXR_CONFIG_SERIAL_TRANSPORT_MTU
    #define RMW_UXRCE_DEFAULT_SERIAL_DEVICE ""
#elif defined(RMW_UXRCE_TRANSPORT_CUSTOM)
    #define RMW_UXRCE_MAX_TRANSPORT_MTU UXR_CONFIG_CUSTOM_TRANSPORT_MTU
#endif

#define RMW_UXRCE_ENTITY_CREATION_TIMEOUT CONFIG_ROS2_RMW_MICROXRCEDDS_ENTITY_CREATION_TIMEOUT
#define RMW_UXRCE_ENTITY_DESTROY_TIMEOUT CONFIG_ROS2_RMW_MICROXRCEDDS_ENTITY_DESTRUCTION_TIMEOUT

#define RMW_UXRCE_STREAM_HISTORY_INPUT CONFIG_ROS2_RMW_MICROXRCEDDS_STREAM_HISTORY_INPUT
#define RMW_UXRCE_STREAM_HISTORY_OUTPUT CONFIG_ROS2_RMW_MICROXRCEDDS_STREAM_HISTORY_OUTPUT


#define RMW_UXRCE_PUBLISH_RELIABLE_TIMEOUT CONFIG_ROS2_RMW_MICROXRCEDDS_PUBLISH_RELIABLE_TIMEOUT

#define RMW_UXRCE_MAX_HISTORY CONFIG_ROS2_RMW_MICROXRCEDDS_MAX_HISTORY
#define RMW_UXRCE_MAX_INPUT_BUFFER_SIZE (RMW_UXRCE_MAX_TRANSPORT_MTU * RMW_UXRCE_STREAM_HISTORY_INPUT)
#define RMW_UXRCE_MAX_OUTPUT_BUFFER_SIZE (RMW_UXRCE_MAX_TRANSPORT_MTU * RMW_UXRCE_STREAM_HISTORY_OUTPUT)

#define RMW_UXRCE_MAX_SESSIONS CONFIG_ROS2_RMW_MICROXRCEDDS_MAX_SESSIONS
#define RMW_UXRCE_MAX_OPTIONS RMW_UXRCE_MAX_SESSIONS*3
#define RMW_UXRCE_MAX_NODES CONFIG_ROS2_RMW_MICROXRCEDDS_MAX_NODES
#define RMW_UXRCE_MAX_PUBLISHERS CONFIG_ROS2_RMW_MICROXRCEDDS_MAX_PUBLISHERS
#define RMW_UXRCE_MAX_SUBSCRIPTIONS CONFIG_ROS2_RMW_MICROXRCEDDS_MAX_SUBSCRIPTIONS
#define RMW_UXRCE_MAX_SERVICES CONFIG_ROS2_RMW_MICROXRCEDDS_MAX_SERVICES
#define RMW_UXRCE_MAX_CLIENTS CONFIG_ROS2_RMW_MICROXRCEDDS_MAX_CLIENTS
#define RMW_UXRCE_MAX_TOPICS CONFIG_ROS2_RMW_MICROXRCEDDS_MAX_TOPICS
#define RMW_UXRCE_MAX_WAIT_SETS CONFIG_ROS2_RMW_MICROXRCEDDS_MAX_WAIT_SETS
#define RMW_UXRCE_MAX_GUARD_CONDITION CONFIG_ROS2_RMW_MICROXRCEDDS_MAX_GUARD_CONDITION

#if RMW_UXRCE_MAX_TOPICS == -1
#define RMW_UXRCE_MAX_TOPICS_INTERNAL RMW_UXRCE_MAX_PUBLISHERS + RMW_UXRCE_MAX_SUBSCRIPTIONS
#else
#define RMW_UXRCE_MAX_TOPICS_INTERNAL RMW_UXRCE_MAX_TOPICS
#endif

#define RMW_UXRCE_NODE_NAME_MAX_LENGTH CONFIG_ROS2_RMW_MICROXRCEDDS_NODE_NAME_MAX_LENGTH
#define RMW_UXRCE_TOPIC_NAME_MAX_LENGTH CONFIG_ROS2_RMW_MICROXRCEDDS_TOPIC_NAME_MAX_LENGTH
#define RMW_UXRCE_TYPE_NAME_MAX_LENGTH CONFIG_ROS2_RMW_MICROXRCEDDS_TYPE_NAME_MAX_LENGTH

#define RMW_UXRCE_ENTITY_NAMING_BUFFER_LENGTH CONFIG_ROS2_RMW_MICROXRCEDDS_REF_BUFFER_LENGTH

#endif  // RMW_MICROXRCEDDS_CONFIG_H
